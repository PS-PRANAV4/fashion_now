{% load static %}
{% load mathfilters %}
<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Male_Fashion Template">
    <meta name="keywords" content="Male_Fashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Male-Fashion | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
    rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="{% static 'product/css/bootstrap.min.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'product/css/font-awesome.min.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'product/css/elegant-icons.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'product/css/magnific-popup.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'product/css/nice-select.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'product/css/owl.carousel.min.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'product/css/slicknav.min.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'product/css/style.css' %}" type="text/css">
</head>

<body>



    <style>
        #snackbar {
          visibility: hidden;
          min-width: 250px;
          margin-left: -125px;
          background-color: #333;
          color: #fff;
          text-align: center;
          border-radius: 2px;
          padding: 16px;
          position: fixed;
          z-index: 1;
          left: 50%;
          bottom: 30px;
          font-size: 17px;
        }
        
        #snackbar.show {
          visibility: visible;
          -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
          animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }
        
        @-webkit-keyframes fadein {
          from {bottom: 0; opacity: 0;} 
          to {bottom: 30px; opacity: 1;}
        }
        
        @keyframes fadein {
          from {bottom: 0; opacity: 0;}
          to {bottom: 30px; opacity: 1;}
        }
        
        @-webkit-keyframes fadeout {
          from {bottom: 30px; opacity: 1;} 
          to {bottom: 0; opacity: 0;}
        }
        
        @keyframes fadeout {
          from {bottom: 30px; opacity: 1;}
          to {bottom: 0; opacity: 0;}
        }
        </style>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>
    <div id="snackbar"></div>
   

        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="header__logo">
                        <a href="/" style="font-size: medium; text-decoration: none; color: black; font-weight: 600;">HOME</a>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <nav class="header__menu mobile-menu">
                        <ul>
                            <li><a href="">{{pro.category_id}}</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="header__nav__option">
                        <a href="#" class="search-switch"><img src="{% static 'product/img/icon/search.png' %}" alt=""></a>
                        <a href="#"><img src="{% static 'product/img/icon/heart.png' %}" alt=""></a>
                        <a href="/cart/{{user.id}}"><img src="{% static 'product/img/icon/cart.png' %}" alt=""> <span>0</span></a>
                        <div class="price"> ₹{{pro.price}}</div>
                    </div>
                </div>
            </div>
            <div class="canvas__open"><i class="fa fa-bars"></i></div>
        </div>
    </header>
    <!-- Header Section End -->

    <!-- Shop Details Section Begin -->
    <section class="shop-details">
        <div class="product__details__pic">
            <div class="container">
               
                <div class="row">
                    <div class="col-lg-3 col-md-3">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tabs-1" role="tab">
                                    <div class="product__thumb__pic set-bg" data-setbg="{{pro.image_product.url}}">
                                    </div>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-2" role="tab">
                                    <div class="product__thumb__pic set-bg" data-setbg="{{pro.image_product4.url}}">
                                    </div>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-3" role="tab">
                                    <div class="product__thumb__pic set-bg" data-setbg="{{pro.image_product5.url}}">
                                    </div>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-4" role="tab">
                                    <div class="product__thumb__pic set-bg" data-setbg="">
                                        <i class="fa fa-play"></i>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-6 col-md-9">
                        <div class="tab-content">
                            <div class="tab-pane active" id="tabs-1" role="tabpanel">
                                <div class="product__details__pic__item"
                                id="img-container">
                                    <div id="lens"></div>
                                    <img id=featured src="{{pro.image_product.url}}" width="500" alt="">
                                </div>
                            </div>
                            <div class="tab-pane" id="tabs-2" role="tabpanel">
                                <div class="product__details__pic__item">
                                    <img src="{{pro.image_product4.url}}" alt="">
                                </div>
                            </div>
                            <div class="tab-pane" id="tabs-3" role="tabpanel">
                                <div class="product__details__pic__item">
                                    <img src="{{pro.image_product5.url}}" alt="">
                                </div>
                            </div>
                            <div class="tab-pane" id="tabs-4" role="tabpanel">
                                <div class="product__details__pic__item">
                                    <img src="" style="z-index: 5;" alt="">
                                    <a href="https://www.youtube.com/watch?v=8PJ3_p7VqHw&list=RD8PJ3_p7VqHw&start_radio=1" class="video-popup"><i class="fa fa-play"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="product__details__content">
            <div class="container">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-8">
                        <div class="product__details__text">
                            <h4> {{pro.name}} </h4>
                           {% if pro.offer %}
                            <h3> ₹{{pro.price|sub:pro.offer}} <span> ₹{{pro.price}} </span></h3>
                            {% else %}
                            <h3>  ₹{{pro.price}} </h3>
                            {% endif %}
                            <p> {{pro.details}} </p>
                            
                            <div class="product__details__cart__option">
                                <div class="quantity primary-btn">
                                    
                                      <a href="/check" >BUY NOW</a>
                                    
                                </div>
                                <a href="/addcart/{{pro.id}}/{{user.id}}" class="primary-btn">add to cart</a>
                            </div>
                            
                           
                            <div class="product__details__last__option">
                                <h5><span>Guaranteed Safe Checkout</span></h5>
                                <img src="{% static 'product/img/shop-details/details-payment.png' %}" alt="">
                              
                            </div>
                        </div>
                    </div>
                </div>
                
        </div>
    </section>


    <style>
        #img-container{
            z-index: 1;
            width: 500px;
            position: relative;
        }
        
        #lens{
            z-index: 2;
            position: absolute;
        
            height: 125px;
            width: 125px;
            
            background-repeat: no-repeat;
            cursor: none;
        
        }
        



    </style>
    <!-- Shop Details Section End -->


    <script>
        document.getElementById('img-container').addEventListener('mouseover', function(){
            imageZoom('featured')
            
        })
        
        function imageZoom(imgID){
            let img = document.getElementById(imgID)
            let lens = document.getElementById('lens')
        
            lens.style.backgroundImage = `url( ${img.src} )`
        
            let ratio = 2
        
            lens.style.backgroundSize = (img.width * ratio) + 'px ' + (img.height * ratio) + 'px';
        
            img.addEventListener("mousemove", moveLens)
            lens.addEventListener("mousemove", moveLens)
            img.addEventListener("touchmove", moveLens)
        
            function moveLens(){
                /*
                Function sets sets position of lens over image and background image of lens
                1 - Get cursor position
                2 - Set top and left position using cursor position - lens width & height / 2
                3 - Set lens top/left positions based on cursor results
                4 - Set lens background position & invert
                5 - Set lens bounds
            
                */
        
                //1
                let pos = getCursor()
                //console.log('pos:', pos)
        
                //2
                let positionLeft = pos.x - (lens.offsetWidth / 2)
                let positionTop = pos.y - (lens.offsetHeight / 2)
        
                //5
                if(positionLeft < 0 ){
                    positionLeft = 0
                }
        
                if(positionTop < 0 ){
                    positionTop = 0
                }
        
                if(positionLeft > img.width - lens.offsetWidth /3 ){
                    positionLeft =( img.width - lens.offsetWidth /3)
                }
        
                if(positionTop > img.height - lens.offsetHeight /3 ){
                    positionTop = img.height - lens.offsetHeight /3
                }
        
        
                //3
                lens.style.left = positionLeft + 'px';
                lens.style.top = positionTop + 'px';
        
                //4
                lens.style.backgroundPosition = "-" + (pos.x * ratio) + 'px -' +  (pos.y * ratio) + 'px'
            }
        
            function getCursor(){
                /* Function gets position of mouse in dom and bounds
                 of image to know where mouse is over image when moved
                
                1 - set "e" to window events
                2 - Get bounds of image
                3 - set x to position of mouse on image using pageX/pageY - bounds.left/bounds.top
                4- Return x and y coordinates for mouse position on image
                
                 */
        
                let e = window.event
                let bounds = img.getBoundingClientRect()
        
                //console.log('e:', e)
                //console.log('bounds:', bounds)
                let x = e.pageX - bounds.left
                let y = e.pageY - bounds.top
                x = x - window.pageXOffset;
                y = y - window.pageYOffset;
                
                return {'x':x, 'y':y}
            }
        
        }
        
        imageZoom('featured')





    </script>
    
  
    <script>
      
        {% for message in messages %}

        var x = document.getElementById("snackbar");
        x.innerHTML = "{{ message }}"
        x.className = "show";
        setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
    {% endfor %}
      </script>
    <!-- Js Plugins -->
    <script src="{% static 'product/js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'product/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'product/js/jquery.nice-select.min.js' %}"></script>
    <script src="{% static 'product/js/jquery.nicescroll.min.js' %}"></script>
    <script src="{% static 'product/js/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'product/js/jquery.countdown.min.js' %}"></script>
    <script src="{% static 'product/js/jquery.slicknav.js' %}"></script>
    <script src="{% static 'product/js/mixitup.min.js' %}"></script>
    <script src="{% static 'product/js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'product/js/main.js' %}"></script>
</body>

</html>